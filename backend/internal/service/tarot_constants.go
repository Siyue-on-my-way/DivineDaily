package service

// TarotCard 塔罗牌定义
type TarotCard struct {
	Number   int    // 牌序号（0-77）
	Name     string // 牌名（中文）
	NameEN   string // 牌名（英文）
	Arcana   string // 大阿卡纳/小阿卡纳
	Suit     string // 花色（权杖/圣杯/宝剑/金币，大阿卡纳为空）
	Meaning  string // 基本含义
	Reversed string // 逆位含义
}

// 大阿卡纳（Major Arcana）- 22张牌
var MajorArcanaCards = []TarotCard{
	{0, "愚者", "The Fool", "大阿卡纳", "", "新的开始、冒险、纯真", "鲁莽、冲动、缺乏计划"},
	{1, "魔术师", "The Magician", "大阿卡纳", "", "意志力、技能、创造力", "操纵、欺骗、缺乏方向"},
	{2, "女祭司", "The High Priestess", "大阿卡纳", "", "直觉、潜意识、神秘", "秘密、压抑、缺乏行动"},
	{3, "皇后", "The Empress", "大阿卡纳", "", "丰饶、母性、自然", "依赖、过度保护、缺乏独立"},
	{4, "皇帝", "The Emperor", "大阿卡纳", "", "权威、结构、稳定", "专制、僵化、缺乏灵活性"},
	{5, "教皇", "The Hierophant", "大阿卡纳", "", "传统、精神指导、学习", "教条、盲从、缺乏创新"},
	{6, "恋人", "The Lovers", "大阿卡纳", "", "选择、爱情、和谐", "不和谐、错误选择、缺乏沟通"},
	{7, "战车", "The Chariot", "大阿卡纳", "", "意志力、胜利、控制", "失控、失败、缺乏方向"},
	{8, "力量", "Strength", "大阿卡纳", "", "内在力量、耐心、温柔", "软弱、缺乏自信、过度控制"},
	{9, "隐者", "The Hermit", "大阿卡纳", "", "内省、寻求真理、指导", "孤独、孤立、缺乏指导"},
	{10, "命运之轮", "Wheel of Fortune", "大阿卡纳", "", "命运、周期、变化", "坏运气、缺乏控制、停滞"},
	{11, "正义", "Justice", "大阿卡纳", "", "平衡、公正、因果", "不公正、不平衡、缺乏责任"},
	{12, "倒吊人", "The Hanged Man", "大阿卡纳", "", "牺牲、等待、新视角", "拖延、不必要的牺牲、缺乏行动"},
	{13, "死神", "Death", "大阿卡纳", "", "转变、结束、重生", "抗拒变化、停滞、缺乏成长"},
	{14, "节制", "Temperance", "大阿卡纳", "", "平衡、调和、耐心", "不平衡、过度、缺乏节制"},
	{15, "恶魔", "The Devil", "大阿卡纳", "", "束缚、物质主义、诱惑", "解放、摆脱束缚、精神自由"},
	{16, "塔", "The Tower", "大阿卡纳", "", "突然变化、启示、解放", "避免灾难、内在变化、重建"},
	{17, "星星", "The Star", "大阿卡纳", "", "希望、灵感、精神指引", "绝望、缺乏信心、失去方向"},
	{18, "月亮", "The Moon", "大阿卡纳", "", "幻觉、恐惧、潜意识", "清晰、克服恐惧、直觉"},
	{19, "太阳", "The Sun", "大阿卡纳", "", "快乐、成功、活力", "暂时的挫折、缺乏活力、过度乐观"},
	{20, "审判", "Judgement", "大阿卡纳", "", "重生、觉醒、宽恕", "缺乏自我意识、无法前进、自我批判"},
	{21, "世界", "The World", "大阿卡纳", "", "完成、成就、整合", "未完成、缺乏成就感、停滞"},
}

// 小阿卡纳（Minor Arcana）- 56张牌
// 权杖（Wands）- 14张
var WandsCards = []TarotCard{
	{22, "权杖Ace", "Ace of Wands", "小阿卡纳", "权杖", "新计划、灵感、创造力", "缺乏方向、延迟、失去灵感"},
	{23, "权杖二", "Two of Wands", "小阿卡纳", "权杖", "计划、未来、个人力量", "缺乏计划、恐惧、过度控制"},
	{24, "权杖三", "Three of Wands", "小阿卡纳", "权杖", "探索、领导力、远见", "缺乏远见、延迟、挫折"},
	{25, "权杖四", "Four of Wands", "小阿卡纳", "权杖", "庆祝、和谐、稳定", "缺乏稳定、冲突、延迟"},
	{26, "权杖五", "Five of Wands", "小阿卡纳", "权杖", "竞争、冲突、挑战", "避免冲突、缺乏竞争、和平"},
	{27, "权杖六", "Six of Wands", "小阿卡纳", "权杖", "胜利、成功、认可", "失败、缺乏认可、挫折"},
	{28, "权杖七", "Seven of Wands", "小阿卡纳", "权杖", "挑战、防御、坚持", "放弃、缺乏防御、屈服"},
	{29, "权杖八", "Eight of Wands", "小阿卡纳", "权杖", "快速行动、进展、速度", "延迟、缺乏进展、缓慢"},
	{30, "权杖九", "Nine of Wands", "小阿卡纳", "权杖", "韧性、坚持、最后努力", "疲惫、放弃、缺乏韧性"},
	{31, "权杖十", "Ten of Wands", "小阿卡纳", "权杖", "负担、责任、过度工作", "解脱、分享责任、减轻负担"},
	{32, "权杖侍从", "Page of Wands", "小阿卡纳", "权杖", "探索、热情、新想法", "缺乏热情、延迟、缺乏想法"},
	{33, "权杖骑士", "Knight of Wands", "小阿卡纳", "权杖", "行动、冒险、冲动", "缺乏行动、延迟、过度谨慎"},
	{34, "权杖皇后", "Queen of Wands", "小阿卡纳", "权杖", "自信、热情、独立", "缺乏自信、依赖、缺乏热情"},
	{35, "权杖国王", "King of Wands", "小阿卡纳", "权杖", "领导力、远见、企业家精神", "缺乏领导力、短视、缺乏远见"},
}

// 圣杯（Cups）- 14张
var CupsCards = []TarotCard{
	{36, "圣杯Ace", "Ace of Cups", "小阿卡纳", "圣杯", "新情感、爱、直觉", "情感空虚、缺乏爱、失去直觉"},
	{37, "圣杯二", "Two of Cups", "小阿卡纳", "圣杯", "伙伴关系、结合、和谐", "不平衡、缺乏和谐、分离"},
	{38, "圣杯三", "Three of Cups", "小阿卡纳", "圣杯", "友谊、庆祝、社交", "孤立、缺乏友谊、冲突"},
	{39, "圣杯四", "Four of Cups", "小阿卡纳", "圣杯", "冥想、内省、错过机会", "接受机会、参与、行动"},
	{40, "圣杯五", "Five of Cups", "小阿卡纳", "圣杯", "失落、悲伤、遗憾", "接受、向前看、希望"},
	{41, "圣杯六", "Six of Cups", "小阿卡纳", "圣杯", "回忆、童年、纯真", "活在当下、向前看、成熟"},
	{42, "圣杯七", "Seven of Cups", "小阿卡纳", "圣杯", "选择、幻想、可能性", "缺乏选择、现实、决定"},
	{43, "圣杯八", "Eight of Cups", "小阿卡纳", "圣杯", "放弃、寻找更深的意义", "接受、满足、停滞"},
	{44, "圣杯九", "Nine of Cups", "小阿卡纳", "圣杯", "满足、愿望实现、快乐", "缺乏满足、未实现的愿望、失望"},
	{45, "圣杯十", "Ten of Cups", "小阿卡纳", "圣杯", "和谐、家庭、幸福", "缺乏和谐、家庭冲突、不快乐"},
	{46, "圣杯侍从", "Page of Cups", "小阿卡纳", "圣杯", "新情感、创造力、直觉", "情感不成熟、缺乏创造力、失去直觉"},
	{47, "圣杯骑士", "Knight of Cups", "小阿卡纳", "圣杯", "浪漫、魅力、理想主义", "缺乏浪漫、现实、缺乏魅力"},
	{48, "圣杯皇后", "Queen of Cups", "小阿卡纳", "圣杯", "同情、直觉、情感支持", "缺乏同情、情感冷漠、缺乏直觉"},
	{49, "圣杯国王", "King of Cups", "小阿卡纳", "圣杯", "情感平衡、同情、控制", "情感不平衡、缺乏控制、冷漠"},
}

// 宝剑（Swords）- 14张
var SwordsCards = []TarotCard{
	{50, "宝剑Ace", "Ace of Swords", "小阿卡纳", "宝剑", "新想法、清晰、真理", "混乱、缺乏清晰、欺骗"},
	{51, "宝剑二", "Two of Swords", "小阿卡纳", "宝剑", "困难选择、僵局、平衡", "决定、行动、不平衡"},
	{52, "宝剑三", "Three of Swords", "小阿卡纳", "宝剑", "心碎、悲伤、痛苦", "恢复、愈合、向前看"},
	{53, "宝剑四", "Four of Swords", "小阿卡纳", "宝剑", "休息、恢复、冥想", "缺乏休息、疲惫、过度工作"},
	{54, "宝剑五", "Five of Swords", "小阿卡纳", "宝剑", "冲突、失败、不公正", "和解、避免冲突、公平"},
	{55, "宝剑六", "Six of Swords", "小阿卡纳", "宝剑", "过渡、离开、前进", "停滞、无法前进、被困"},
	{56, "宝剑七", "Seven of Swords", "小阿卡纳", "宝剑", "欺骗、策略、逃避", "诚实、直接、面对"},
	{57, "宝剑八", "Eight of Swords", "小阿卡纳", "宝剑", "限制、自我限制、恐惧", "自由、解脱、克服恐惧"},
	{58, "宝剑九", "Nine of Swords", "小阿卡纳", "宝剑", "焦虑、噩梦、担忧", "平静、缓解焦虑、希望"},
	{59, "宝剑十", "Ten of Swords", "小阿卡纳", "宝剑", "背叛、结束、痛苦", "恢复、新开始、解脱"},
	{60, "宝剑侍从", "Page of Swords", "小阿卡纳", "宝剑", "新想法、好奇心、沟通", "缺乏想法、缺乏好奇心、沟通问题"},
	{61, "宝剑骑士", "Knight of Swords", "小阿卡纳", "宝剑", "行动、冲动、直接", "缺乏行动、过度谨慎、间接"},
	{62, "宝剑皇后", "Queen of Swords", "小阿卡纳", "宝剑", "清晰、独立、直接", "缺乏清晰、依赖、间接"},
	{63, "宝剑国王", "King of Swords", "小阿卡纳", "宝剑", "真理、公正、权威", "不公正、滥用权力、缺乏真理"},
}

// 金币（Pentacles）- 14张
var CoinsCards = []TarotCard{
	{64, "金币Ace", "Ace of Pentacles", "小阿卡纳", "金币", "新机会、物质开始、潜力", "错失机会、缺乏潜力、物质困难"},
	{65, "金币二", "Two of Pentacles", "小阿卡纳", "金币", "平衡、优先事项、时间管理", "不平衡、缺乏优先事项、时间管理问题"},
	{66, "金币三", "Three of Pentacles", "小阿卡纳", "金币", "团队合作、学习、协作", "缺乏合作、孤立、缺乏学习"},
	{67, "金币四", "Four of Pentacles", "小阿卡纳", "金币", "安全、控制、节俭", "慷慨、分享、缺乏控制"},
	{68, "金币五", "Five of Pentacles", "小阿卡纳", "金币", "物质困难、孤立、贫困", "恢复、支持、改善"},
	{69, "金币六", "Six of Pentacles", "小阿卡纳", "金币", "给予、接受、分享", "自私、缺乏分享、不平衡"},
	{70, "金币七", "Seven of Pentacles", "小阿卡纳", "金币", "评估、投资、耐心", "缺乏耐心、急于求成、缺乏评估"},
	{71, "金币八", "Eight of Pentacles", "小阿卡纳", "金币", "技能、质量、奉献", "缺乏技能、质量差、缺乏奉献"},
	{72, "金币九", "Nine of Pentacles", "小阿卡纳", "金币", "独立、自给自足、享受", "依赖、缺乏独立、缺乏享受"},
	{73, "金币十", "Ten of Pentacles", "小阿卡纳", "金币", "财富、家庭、长期安全", "缺乏财富、家庭问题、缺乏安全"},
	{74, "金币侍从", "Page of Pentacles", "小阿卡纳", "金币", "新机会、学习、潜力", "错失机会、缺乏学习、缺乏潜力"},
	{75, "金币骑士", "Knight of Pentacles", "小阿卡纳", "金币", "效率、责任、方法", "缺乏效率、不负责任、缺乏方法"},
	{76, "金币皇后", "Queen of Pentacles", "小阿卡纳", "金币", "实用、慷慨、养育", "不实用、自私、缺乏养育"},
	{77, "金币国王", "King of Pentacles", "小阿卡纳", "金币", "安全、控制、商业头脑", "缺乏安全、缺乏控制、缺乏商业头脑"},
}

// GetAllTarotCards 获取所有78张塔罗牌
func GetAllTarotCards() []TarotCard {
	allCards := make([]TarotCard, 0, 78)
	allCards = append(allCards, MajorArcanaCards...)
	allCards = append(allCards, WandsCards...)
	allCards = append(allCards, CupsCards...)
	allCards = append(allCards, SwordsCards...)
	allCards = append(allCards, CoinsCards...)
	return allCards
}

// GetTarotCardByNumber 根据序号获取塔罗牌
func GetTarotCardByNumber(number int) *TarotCard {
	allCards := GetAllTarotCards()
	if number >= 0 && number < len(allCards) {
		return &allCards[number]
	}
	return nil
}

// GetSpreadPositions 根据牌阵类型获取位置
func GetSpreadPositions(spread string) []string {
	switch spread {
	case "single":
		return []string{"当前"}
	case "three":
		return []string{"过去", "现在", "未来"}
	case "cross":
		return []string{"中心", "上方", "下方", "左方", "右方", "左上", "右上", "左下", "右下", "未来"}
	default:
		return []string{"当前"}
	}
}

// GetSpreadCardCount 根据牌阵类型获取需要的牌数
func GetSpreadCardCount(spread string) int {
	switch spread {
	case "single":
		return 1
	case "three":
		return 3
	case "cross":
		return 10
	default:
		return 1
	}
}
